webpackJsonp([2,0],{0:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var r=n(165),o=s(r);n(164);var a=n(111),i=s(a),u=n(162),c=s(u),d=n(392),f=s(d),l=n(73),m=s(l),h=n(161);i["default"].filter("fromNow",h.fromNow),i["default"].filter("domain",h.domain);new i["default"]((0,o["default"])({router:c["default"],store:m["default"]},f["default"])).$mount("#app")},56:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(){return(0,h["default"])(function(e,t){l["default"].state.ids.length?e(l["default"].state.ids):p.child("topstories").on("value",function(t){e(t.val())},t)})}function o(e){return(0,h["default"])(function(t,n){l["default"].state.newsCache[e]?t(l["default"].state.newsCache[e]):p.child("item/"+e).once("value",function(n){var s=l["default"].state.newsCache[e]=n.val();t(s)},n)})}function a(e){return e&&e.length?u["default"].all(e.map(function(e){return o(e)})):u["default"].resolve([])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(75),u=s(i);t.fetchNewsIdList=r,t.fetchNews=o,t.fetchNewsList=a;var c=n(154),d=s(c),f=n(73),l=s(f),m=n(112),h=s(m),p=new d["default"]("https://hacker-news.firebaseio.com/v0")},73:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(75),o=s(r),a=n(111),i=s(a),u=n(407),c=s(u),d=n(56);i["default"].use(c["default"]);var f=new c["default"].Store({state:{currentPage:1,itemsPerPage:20,ids:[],news:[],newsCache:{}},actions:{FETCH_ID_DATA:function(e){var t=e.commit;return new o["default"](function(e,n){(0,d.fetchNewsIdList)().then(function(n){t("SET_IDS",{ids:n}),e()})})},FETCH_ACTIVE_NEWS:function(e,t){var n=e.commit,s=f.state,r=(t-1)*s.itemsPerPage,o=t*s.itemsPerPage,a=s.ids.slice(r,o);(0,d.fetchNewsList)(a).then(function(e){n("SET_NEWS",{news:e})})},GO_TO_PAGE:function(e,t){var n=e.commit;n("SET_PAGE",{page:t})}},mutations:{SET_IDS:function(e,t){var n=t.ids;e.ids=n},SET_NEWS:function(e,t){var n=t.news;e.news=n},SET_PAGE:function(e,t){var n=t.page;e.currentPage=n}}});t["default"]=f},112:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(75),o=s(r);t["default"]=function(e){var t=new o["default"](e);return i["default"].start(),t.then(function(){i["default"].done()}),t};var a=n(389),i=s(a)},155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(56);t["default"]={name:"Comment",props:["comment"],data:function(){return{childComments:[],open:!0}},created:function(){var e=this;(0,s.fetchNewsList)(this.comment.kids).then(function(t){e.childComments=t})}}},156:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(395),o=s(r);t["default"]={props:["page"],computed:{newsList:function(){return this.$store.state.news},itemsPerPage:function(){return this.$store.state.itemsPerPage}},methods:{formatItemIndex:function(e){return(this.page-1)*this.itemsPerPage+e+1}},components:{NewsItem:o["default"]}}},157:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:["news","index"]}},158:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(74),o=s(r),a=n(393),i=s(a),u=n(56);t["default"]={data:function(){return{news:{},comments:[],open:!0}},created:function(){var e=this;(0,u.fetchNews)(this.$route.params.id).then(function(t){(0,o["default"])(e.news,t),(0,u.fetchNewsList)(t.kids).then(function(t){e.comments=t})})},methods:{toggleComment:function(e){this.open=!this.open}},components:{Comment:i["default"]}}},159:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=(n(56),n(394)),o=s(r),a=n(73);s(a);t["default"]={created:function(){var e=this;this.$store.dispatch("FETCH_ID_DATA").then(function(){e.$store.dispatch("FETCH_ACTIVE_NEWS",e.$route.params.page)})},watch:{"$route.params.page":function(e){this.$store.dispatch("FETCH_ACTIVE_NEWS",e)}},components:{News:o["default"]}}},160:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(74),o=s(r),a=n(163);t["default"]={data:function(){return{user:{about:"",created:"",id:"",karma:"",submitted:[]}}},created:function(){var e=this;(0,a.fetchUser)(this.$route.params.id).then(function(t){(0,o["default"])(e.user,t)})}}},161:function(e,t){"use strict";function n(e){return o.href=e,o.hostname}function s(e){var t=Date.now()/1e3-Number(e);return t<3600?r(~~(t/60)," minute"):t<86400?r(~~(t/3600)," hour"):r(~~(t/86400)," day")}function r(e,t){return 1===e?e+t:e+t+"s"}Object.defineProperty(t,"__esModule",{value:!0}),t.domain=n,t.fromNow=s;var o=document.createElement("a")},162:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(111),o=s(r),a=n(406),i=s(a),u=n(397),c=s(u),d=n(398),f=s(d),l=n(396),m=s(l);o["default"].use(i["default"]);var h=new i["default"]({mode:"history",base:"vue-hackernews",routes:[{name:"home",path:"/",redirect:{name:"news",params:{page:1}}},{name:"user",path:"/user/:id",component:f["default"]},{name:"news",path:"/news/:page",component:c["default"]},{name:"comments",path:"/comments/:id",component:m["default"]}]});t["default"]=h},163:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(e){return(0,u["default"])(function(t,n){c.child("user/"+e).once("value",function(e){t(e.val())},n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUser=r;var o=n(154),a=s(o),i=n(112),u=s(i),c=new a["default"]("https://hacker-news.firebaseio.com/v0")},382:function(e,t){},383:function(e,t){},384:function(e,t){},385:function(e,t){},386:function(e,t){},387:function(e,t){},388:function(e,t){},392:function(e,t,n){var s,r;n(382);var o=n(399);r=s=s||{},"object"!=typeof s["default"]&&"function"!=typeof s["default"]||(r=s=s["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,e.exports=s},393:function(e,t,n){var s,r;n(387),s=n(155);var o=n(404);r=s=s||{},"object"!=typeof s["default"]&&"function"!=typeof s["default"]||(r=s=s["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,r._scopeId="data-v-6",e.exports=s},394:function(e,t,n){var s,r;n(386),s=n(156);var o=n(403);r=s=s||{},"object"!=typeof s["default"]&&"function"!=typeof s["default"]||(r=s=s["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,e.exports=s},395:function(e,t,n){var s,r;n(388),s=n(157);var o=n(405);r=s=s||{},"object"!=typeof s["default"]&&"function"!=typeof s["default"]||(r=s=s["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,e.exports=s},396:function(e,t,n){var s,r;n(385),s=n(158);var o=n(402);r=s=s||{},"object"!=typeof s["default"]&&"function"!=typeof s["default"]||(r=s=s["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,e.exports=s},397:function(e,t,n){var s,r;n(383),s=n(159);var o=n(400);r=s=s||{},"object"!=typeof s["default"]&&"function"!=typeof s["default"]||(r=s=s["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,e.exports=s},398:function(e,t,n){var s,r;n(384),s=n(160);var o=n(401);r=s=s||{},"object"!=typeof s["default"]&&"function"!=typeof s["default"]||(r=s=s["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,e.exports=s},399:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"hackernews"},[_h("header",[_h("div",{staticClass:"header-logo"},[_m(0)," ",_h("h1",[_h("router-link",{attrs:{to:{name:"home"}}},["Hacker News"])])])," ",_m(1)])," ",_h("router-view")])},staticRenderFns:[function(){with(this)return _h("a",{attrs:{href:"http://www.ycombinator.com"}},[_h("img",{attrs:{src:"https://news.ycombinator.com/y18.gif"}})])},function(){with(this)return _h("div",{staticClass:"header-description"},[_h("span",["Built with Vue.js"]),"\n      |\n      ",_h("a",{attrs:{href:"#"}},["Source"])])}]}},400:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"news-list"},[_h("news",{attrs:{page:this.$route.params.page}})," ",_h("router-link",{directives:[{name:"show",value:$route.params.page>1,expression:"$route.params.page > 1"}],attrs:{to:{name:"news",params:{page:parseInt($route.params.page)-1}}}},["< Prev"])," ",_h("router-link",{attrs:{to:{name:"news",params:{page:parseInt($route.params.page)+1}}}},["Next >"])])},staticRenderFns:[]}},401:function(module,exports){module.exports={render:function(){with(this)return _h("section",{staticClass:"user"},[_h("ul",[_h("li",["user: "+_s(user.id)])," ",_h("li",["created: "+_s(_f("fromNow")(user.created))+" ago"])," ",_h("li",["karma: "+_s(user.karma)])," ",_h("li",[_m(0)," ",_h("div",{domProps:{innerHTML:_s(user.about)}})])])," ",_h("a",{attrs:{href:"https://news.ycombinator.com/submitted?id="+user.id,target:"_blank"}},["submissions"])," ",_h("a",{attrs:{href:"https://news.ycombinator.com/threads?id="+user.id,target:"_blank"}},["comments"])])},staticRenderFns:[function(){with(this)return _h("p",["about: "])}]}},402:function(module,exports){module.exports={render:function(){with(this)return _h("section",{staticClass:"comments"},[_h("div",{staticClass:"news-info"},[_h("a",{attrs:{href:news.url}},[_s(news.title)]),_h("span",{staticClass:"news-domain"},["("+_s(_f("domain")(news.url))+")"])," ",_h("p",{staticClass:"subtext"},[_s(news.score)+" points by ",_h("router-link",{attrs:{to:{name:"user",params:{id:news.by}}}},[_s(news.by)])," "+_s(_f("fromNow")(news.time))+" ago | "+_s(news.descendants)+" comments"])])," ",_h("ul",{staticClass:"comments-list"},[_l(comments,function(e){return e.deleted||e.dead?_e():_h("comment",{attrs:{"track-by":"id",comment:e}})})])])},staticRenderFns:[]}},403:function(module,exports){module.exports={render:function(){with(this)return _h("section",{staticClass:"news"},[_l(newsList,function(e,t){return _h("news-item",{attrs:{news:e,index:formatItemIndex(t)}})})])},staticRenderFns:[]}},404:function(module,exports){module.exports={render:function(){with(this)return _h("li",{directives:[{name:"show",value:comment.text,expression:"comment.text"}]},[_h("div",{staticClass:"comhead subtext"},[_h("a",{staticClass:"toggle",attrs:{href:"javascript:;"},on:{click:function(e){open=!open}}},[_s(open?"[-]":"[+]")])," ",_h("router-link",{attrs:{to:{name:"user",params:{id:comment.by}}}},[_s(comment.by)]),"\n    "+_s(_f("fromNow")(comment.time))+" ago\n  "])," ",_h("p",{directives:[{name:"show",value:open,expression:"open"}],staticClass:"comment-content",domProps:{innerHTML:_s(comment.text)}})," ",comment.kids?_h("ul",{directives:[{name:"show",value:open,expression:"open"}],staticClass:"child-comments"},[_l(childComments,function(e){return e.deleted||e.dead?_e():_h("comment",{attrs:{comment:e}})})]):_e()])},staticRenderFns:[]}},405:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"news-item"},[_h("span",{staticClass:"news-item-index"},[_s(index)+"."])," ",_h("p",[_h("a",{staticClass:"news-item-title",attrs:{href:news.url,target:"_blank"}},[_s(news.title)])," ",_h("span",{staticClass:"news-item-url"},["("+_s(_f("domain")(news.url))+")"])])," ",_h("p",{staticClass:"subtext"},["\n\t\t"+_s(news.score)+" points by ",_h("router-link",{attrs:{to:{name:"user",params:{id:news.by}}}},[_s(news.by)]),"\n\t\t"+_s(_f("fromNow")(news.time))+" ago | ",_h("router-link",{attrs:{to:{name:"comments",params:{id:news.id}}}},[_s(news.descendants)+" comments"])])])},staticRenderFns:[]}}});
//# sourceMappingURL=app.34aff7980fa94e749ab6.js.map